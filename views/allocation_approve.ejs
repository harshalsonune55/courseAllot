<div class="p-10">

    <!-- SEARCH -->
    <div class="mb-8">
      <input
        type="text"
        placeholder="Search courses, faculty, allocations..."
        class="w-full border-2 border-gray-300 rounded-xl px-6 py-4 focus:ring-2 focus:ring-blue-600 focus:outline-none"
      />
    </div>
  
  
    <!-- ================= PENDING REQUESTS ================= -->
    <div class="border-2 border-gray-300 rounded-2xl p-8 mb-10">
  
      <h2 class="text-xl font-semibold mb-3">
        Pending Allocation Requests ✨
      </h2>
  
      <p class="text-gray-600 mb-6">
        Review and approve/reject allocation requests from faculty.
      </p>
  
      <% const pending = requests.filter(r => r.status === "PENDING"); %>
  
      <% if(pending.length === 0){ %>
        <p class="text-gray-500">No pending requests.</p>
      <% } %>
  
      <% pending.forEach(req => { %>
  
        <div class="bg-gray-100 p-6 rounded-xl mb-6">
  
          <div class="flex justify-between items-center mb-3">
            <div>
              <h3 class="text-lg font-semibold">
                <%= req.faculty.fullName %> → <%= req.courseName %>
              </h3>
  
              <p class="text-green-700">
                AI Match Score: <%= req.matchScore %>%
              </p>
  
              <p class="text-gray-500 text-sm">
                Requested: <%= new Date(req.createdAt).toLocaleString() %>
              </p>
            </div>
  
            <span class="bg-blue-950 text-white px-4 py-2 rounded-full text-sm">
              PENDING
            </span>
          </div>
  
          <div class="flex gap-4">
  
            <form action="/approve/<%= req._id %>" method="POST" class="flex-1">
              <button
                class="w-full bg-green-700 text-white py-3 rounded-xl hover:bg-green-800 transition">
                ✔ Approve
              </button>
            </form>
  
            <form action="/reject/<%= req._id %>" method="POST" class="flex-1">
              <button
                class="w-full bg-gray-600 text-white py-3 rounded-xl hover:bg-gray-700 transition">
                ✖ Reject
              </button>
            </form>
  
          </div>
  
        </div>
  
      <% }) %>
  
    </div>
  
  
  
    <!-- ================= ALL ALLOCATIONS ================= -->
    <div class="border-2 border-gray-300 rounded-2xl p-8">
  
      <h2 class="text-xl font-semibold mb-6">
        All Allocations
      </h2>
  
      <% if(requests.length === 0){ %>
        <p class="text-gray-500">No allocations yet.</p>
      <% } %>
  
      <% requests.forEach(req => { %>
  
        <div class="bg-gray-100 p-6 rounded-xl mb-6 flex justify-between items-center">
  
          <div>
            <h3 class="text-lg font-semibold">
              <%= req.courseName %>
            </h3>
  
            <p class="text-gray-600">
              <%= req.faculty.fullName %>
            </p>
  
            <p class="text-green-700">
              AI: <%= req.matchScore %>%
            </p>
          </div>
  
          <% if(req.status === "APPROVED"){ %>
            <span class="bg-green-700 text-white px-4 py-2 rounded-full text-sm">
              APPROVED
            </span>
          <% } else if(req.status === "REJECTED"){ %>
            <span class="bg-red-600 text-white px-4 py-2 rounded-full text-sm">
              REJECTED
            </span>
          <% } else { %>
            <span class="bg-blue-950 text-white px-4 py-2 rounded-full text-sm">
              PENDING
            </span>
          <% } %>
  
        </div>
  
      <% }) %>
  
    </div>
  
  </div>
  