<div class="p-12 bg-gray-100 min-h-screen">

    <!-- SEARCH -->
    <div class="mb-10">
      <input
        type="text"
        placeholder="Search courses, faculty, allocations..."
        class="w-full border-2 border-gray-300 rounded-xl px-6 py-4 focus:ring-2 focus:ring-blue-600 focus:outline-none"
      />
    </div>
  
  
    <!-- ================= PENDING REQUESTS ================= -->
    <div class="border-2 border-gray-300 rounded-2xl p-10 mb-14 bg-white">
  
      <h2 class="text-2xl font-semibold mb-3">
        Pending Allocation Requests ✨
      </h2>
  
      <p class="text-gray-600 mb-8">
        Review and approve/reject allocation requests from faculty.
      </p>
  
      <% const pending = requests.filter(r => r.status === "PENDING"); %>
  
      <% if(pending.length === 0){ %>
        <p class="text-gray-500">No pending requests.</p>
      <% } %>
  
      <% pending.forEach(req => { %>
  
        <div class="bg-gray-50 rounded-2xl p-8 mb-8 shadow-sm">
  
          <!-- Header -->
          <div class="flex justify-between items-start mb-6">
  
            <div>
              <h3 class="text-xl font-semibold">
                <%= req.faculty.fullName %> → <%= req.courseName %>
              </h3>
  
              <p class="text-gray-600 mt-1">
                AI Match Score:
                <span class="text-green-700 font-medium">
                  <%= req.matchScore %>%
                </span>
              </p>
  
              <p class="text-gray-400 text-sm mt-2">
                Requested:
                <%= new Date(req.requestedAt || req.createdAt).toLocaleString() %>
              </p>
            </div>
  
            <span class="bg-gray-900 text-white px-5 py-2 rounded-full text-sm">
              PENDING
            </span>
  
          </div>
  
          <!-- Buttons -->
          <div class="flex gap-6">
  
            <form action="/approve/<%= req._id %>" method="POST" class="flex-1">
              <button
                class="w-full bg-green-700 text-white py-4 rounded-xl text-lg font-medium hover:bg-green-800 transition">
                ✔ Approve
              </button>
            </form>
  
            <form action="/reject/<%= req._id %>" method="POST" class="flex-1">
              <button
                class="w-full bg-gray-600 text-white py-4 rounded-xl text-lg font-medium hover:bg-gray-700 transition">
                ✖ Reject
              </button>
            </form>
  
          </div>
  
        </div>
  
      <% }) %>
  
    </div>
  
  
  
    <!-- ================= ALL ALLOCATIONS ================= -->
    <div class="border-2 border-gray-300 rounded-2xl p-10 bg-white">
  
      <h2 class="text-2xl font-semibold mb-8">
        All Allocations
      </h2>
  
      <% if(requests.length === 0){ %>
        <p class="text-gray-500">No allocations yet.</p>
      <% } %>
  
      <% requests.forEach(req => { %>
  
        <div class="bg-gray-50 rounded-2xl p-8 mb-6 flex justify-between items-center shadow-sm">
  
          <div>
            <h3 class="text-xl font-semibold">
              <%= req.courseName %>
            </h3>
  
            <p class="text-gray-600 mt-1">
              <%= req.faculty.fullName %>
            </p>
  
            <p class="text-green-700 mt-2">
              AI: <%= req.matchScore %>%
            </p>
          </div>
  
          <% if(req.status === "APPROVED"){ %>
            <span class="bg-green-700 text-white px-6 py-2 rounded-full text-sm">
              APPROVED
            </span>
          <% } else if(req.status === "REJECTED"){ %>
            <span class="bg-red-600 text-white px-6 py-2 rounded-full text-sm">
              REJECTED
            </span>
          <% } else { %>
            <span class="bg-gray-900 text-white px-6 py-2 rounded-full text-sm">
              PENDING
            </span>
          <% } %>
  
        </div>
  
      <% }) %>
  
    </div>
  
  </div>
  